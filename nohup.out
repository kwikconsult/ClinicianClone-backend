Performing system checks...

System check identified no issues (0 silenced).
August 14, 2025 - 03:56:22
Django version 5.2.5, using settings 'llm_project_app.settings'
Starting development server at http://127.0.0.1:8000/
Quit the server with CONTROL-C.

WARNING: This is a development server. Do not use it in a production setting. Use a production WSGI or ASGI server instead.
For more information on production servers see: https://docs.djangoproject.com/en/5.2/howto/deployment/
Received chatbot_obj: {'first_question': True, 'session': '', 'user_id': '', 'title': 'Chat not yet finished', 'chat_input': "I've got an 80-year-old male here, Mr. Peterson. He's been having melena for about two days, and his wife says he had a syncopal episode at home this morning. He's been on a high dose of ASA for some unstable CAD, and he also takes a PPI, but he's not very compliant.", 'answer': '', 'recommendation': '', 'question_answer_list': [{'question': "I've got an 80-year-old male here, Mr. Peterson. He's been having melena for about two days, and his wife says he had a syncopal episode at home this morning. He's been on a high dose of ASA for some unstable CAD, and he also takes a PPI, but he's not very compliant.", 'answer': '...', 'questionTimestamp': '11:57 PM', 'answerTimestamp': '11:57 PM'}], 'patient_data_obj': {'age': '', 'sex': '', 'overview_list': [{'name': 'Hematochezia', 'value': 'NA', 'entity_found': False, 'outside_range': False}, {'name': 'Hematemesis', 'value': 'NA', 'entity_found': False, 'outside_range': False}, {'name': 'Melena', 'value': 'NA', 'entity_found': False, 'outside_range': False}, {'name': 'Syncope', 'value': 'NA', 'entity_found': False, 'outside_range': False}, {'name': 'Duration', 'value': 'NA', 'entity_found': False, 'outside_range': False}, {'name': 'Hx of GIB', 'value': 'Y/N', 'entity_found': False, 'outside_range': False}, {'name': 'Unstable CAD', 'value': 'Y/N', 'entity_found': False, 'outside_range': False}, {'name': 'COPD', 'value': 'Y/N', 'entity_found': False, 'outside_range': False}, {'name': 'CRF', 'value': 'Y/N', 'entity_found': False, 'outside_range': False}, {'name': 'Risk for stress ulcer', 'value': 'Y/N', 'entity_found': False, 'outside_range': False}, {'name': 'Cirrhosis', 'value': 'Y/N', 'entity_found': False, 'outside_range': False}, {'name': 'ASA/NSAID', 'value': 'Y/N', 'entity_found': False, 'outside_range': False}, {'name': 'PPI', 'value': 'Y/N', 'entity_found': False, 'outside_range': False}], 'exam_labs_list': [{'name': 'SBP', 'value': '0-200', 'entity_found': False, 'outside_range': False}, {'name': 'DBP', 'value': '0-200', 'entity_found': False, 'outside_range': False}, {'name': 'HR', 'value': '0-200', 'entity_found': False, 'outside_range': False}, {'name': 'Orthostasis', 'value': 'Y/N', 'entity_found': False, 'outside_range': False}, {'name': 'NG lavage', 'value': 'Data', 'entity_found': False, 'outside_range': False}, {'name': 'Rectal', 'value': 'Data', 'entity_found': False, 'outside_range': False}, {'name': 'HCT', 'value': '0-50', 'entity_found': False, 'outside_range': False}, {'name': 'HCT Drop', 'value': '0-50', 'entity_found': False, 'outside_range': False}, {'name': 'PLT', 'value': '0-500', 'entity_found': False, 'outside_range': False}, {'name': 'CR', 'value': '0-10', 'entity_found': False, 'outside_range': False}, {'name': 'BUN', 'value': '0-200', 'entity_found': False, 'outside_range': False}, {'name': 'INR', 'value': '0-10', 'entity_found': False, 'outside_range': False}], 'treatment_recommendations_list': [{'name': 'Source', 'value': 'Upper/Mid/Lower', 'entity_found': False, 'outside_range': False}, {'name': 'Resuscitation', 'value': 'Y/N', 'entity_found': False, 'outside_range': False}, {'name': 'Emergent Endoscopy', 'value': 'Y/N', 'entity_found': False, 'outside_range': False}, {'name': 'ICU', 'value': 'Y/N', 'entity_found': False, 'outside_range': False}]}}
Chat input: i've got an 80-year-old male here, mr. peterson. he's been having melena for about two days, and his wife says he had a syncopal episode at home this morning. he's been on a high dose of asa for some unstable cad, and he also takes a ppi, but he's not very compliant.
{'age': '', 'sex': '', 'overview_list': [{'name': 'Hematochezia', 'value': 'NA', 'entity_found': False, 'outside_range': False}, {'name': 'Hematemesis', 'value': 'NA', 'entity_found': False, 'outside_range': False}, {'name': 'Melena', 'value': 'NA', 'entity_found': False, 'outside_range': False}, {'name': 'Syncope', 'value': 'NA', 'entity_found': False, 'outside_range': False}, {'name': 'Duration', 'value': 'NA', 'entity_found': False, 'outside_range': False}, {'name': 'Hx of GIB', 'value': 'Y/N', 'entity_found': False, 'outside_range': False}, {'name': 'Unstable CAD', 'value': 'Y/N', 'entity_found': False, 'outside_range': False}, {'name': 'COPD', 'value': 'Y/N', 'entity_found': False, 'outside_range': False}, {'name': 'CRF', 'value': 'Y/N', 'entity_found': False, 'outside_range': False}, {'name': 'Risk for stress ulcer', 'value': 'Y/N', 'entity_found': False, 'outside_range': False}, {'name': 'Cirrhosis', 'value': 'Y/N', 'entity_found': False, 'outside_range': False}, {'name': 'ASA/NSAID', 'value': 'Y/N', 'entity_found': False, 'outside_range': False}, {'name': 'PPI', 'value': 'Y/N', 'entity_found': False, 'outside_range': False}], 'exam_labs_list': [{'name': 'SBP', 'value': '0-200', 'entity_found': False, 'outside_range': False}, {'name': 'DBP', 'value': '0-200', 'entity_found': False, 'outside_range': False}, {'name': 'HR', 'value': '0-200', 'entity_found': False, 'outside_range': False}, {'name': 'Orthostasis', 'value': 'Y/N', 'entity_found': False, 'outside_range': False}, {'name': 'NG lavage', 'value': 'Data', 'entity_found': False, 'outside_range': False}, {'name': 'Rectal', 'value': 'Data', 'entity_found': False, 'outside_range': False}, {'name': 'HCT', 'value': '0-50', 'entity_found': False, 'outside_range': False}, {'name': 'HCT Drop', 'value': '0-50', 'entity_found': False, 'outside_range': False}, {'name': 'PLT', 'value': '0-500', 'entity_found': False, 'outside_range': False}, {'name': 'CR', 'value': '0-10', 'entity_found': False, 'outside_range': False}, {'name': 'BUN', 'value': '0-200', 'entity_found': False, 'outside_range': False}, {'name': 'INR', 'value': '0-10', 'entity_found': False, 'outside_range': False}], 'treatment_recommendations_list': [{'name': 'Source', 'value': 'Upper/Mid/Lower', 'entity_found': False, 'outside_range': False}, {'name': 'Resuscitation', 'value': 'Y/N', 'entity_found': False, 'outside_range': False}, {'name': 'Emergent Endoscopy', 'value': 'Y/N', 'entity_found': False, 'outside_range': False}, {'name': 'ICU', 'value': 'Y/N', 'entity_found': False, 'outside_range': False}]}
Groq messages: [{'role': 'system', 'content': "You are a physician and you are talking with a doctor who is treating patient, Hence question should be 'has the patient' instead of 'do you have'. In the conversation, acknowledge when information is being provided to you, and if possible comment on the condition of the patient from the information you have received so far.Extract the terms only if they are mentioned in the user input. You are assigned to extract the medical terms and their values mentioned by the user. Return JSON matching the schema.For each entity, return an object with 'name', 'value' (boolean string), and 'entity_found' (boolean). Example: 'entities': [[{'name': 'Hematochezia', 'value': 'true', 'entity_found': true}, ...]Please ensure that you pass the enities in the standardized format. Example: International Normalized Ratio (INR) should be passed as INR, not International Normalized Ratio. Age, Sex, Hematochezia,Hematemesis,Melena,Duration,Syncope,Hx of GIB,Unstable CAD,COPD,CRF,Risk for stress ulcer,Cirrhosis,ASA/NSAID,PPI, SBP,DBP,HR,Orthostasis,NG lavage,Rectal,HCT,,HCT Drop,PLT,CR,BUN,INRHematochezia and Hemetesis have three values - 'none','small','copious', Melena have three values - 'Brown', 'Dark', 'Pitch black'for other entities, if it is yes then it have to be present and if it is no, then absent"}, {'role': 'assistant', 'content': ''}, {'role': 'user', 'content': "i've got an 80-year-old male here, mr. peterson. he's been having melena for about two days, and his wife says he had a syncopal episode at home this morning. he's been on a high dose of asa for some unstable cad, and he also takes a ppi, but he's not very compliant."}]Traceback (most recent call last):
  File "/mnt/projects/ClinicianClone-backend/llm_project_app/views.py", line 399, in generate_with_groq
    client = Groq(api_key=Groq_api_key)
                          ^^^^^^^^^^^^
NameError: name 'Groq_api_key' is not defined
[14/Aug/2025 03:57:39] "POST /api_django/triage/ HTTP/1.0" 200 3482
